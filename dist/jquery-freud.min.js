(function(){!function($){var default_options,fn_methods,freud_behaviours,top_methods,utils;default_options={behaviourKey:"behaviours"},freud_behaviours||(freud_behaviours={}),utils={normalize_behaviours:function(behaviours){if(!behaviours)return[];try{behaviours=JSON.parse(behaviours)}catch(error){error,behaviours=behaviours}return"object"!=typeof behaviours&&(behaviours=[behaviours]),behaviours}},top_methods={register:function(behaviour_or_name,behaviour){var name;return null==behaviour&&(behaviour=null),name="function"==typeof behaviour_or_name?behaviour_or_name.name:behaviour_or_name,behaviour="function"==typeof behaviour_or_name?behaviour_or_name:behaviour,freud_behaviours[name]=behaviour}},$.freud=function(method_or_options){return null==method_or_options&&(method_or_options={}),top_methods[method_or_options]?top_methods[method_or_options].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method_or_options&&method_or_options?$.error("Method "+method+" does not exist on jquery-freud"):top_methods.init.apply(this,arguments)},fn_methods={init:function(options){var behaviourKey,given_behaviours;return options&&options.constructor===Array?(given_behaviours=options,options=$.extend({},default_options)):options=$.extend({},default_options,options),behaviourKey=options.behaviourKey,this.each(function(index,el){var $el,behaviour_name,el_behaviours,i,len,results;for($el=$(el),el_behaviours=[],el_behaviours=utils.normalize_behaviours($el.data(behaviourKey)),given_behaviours&&(el_behaviours=el_behaviours.concat(given_behaviours)),results=[],i=0,len=el_behaviours.length;i<len;i++)behaviour_name=el_behaviours[i],$el.data("loaded_behaviour_"+behaviour_name)?results.push(void 0):($el.data("loaded_behaviour_"+behaviour_name,!0),$el.data($.extend({},options,$el.data())),freud_behaviours[behaviour_name]?results.push(new freud_behaviours[behaviour_name]($el,options)):results.push(void 0));return results})}},$.fn.freud=function(method_or_options){return null==method_or_options&&(method_or_options={}),fn_methods[method_or_options]?fn_methods[method_or_options].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method_or_options&&method_or_options?$.error("Method "+method+" does not exist on jQuery(...).behaviours"):fn_methods.init.apply(this,arguments)}}(jQuery)}).call(this);